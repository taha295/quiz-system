{% extends 'base.html' %}
{% block content %}
<h1>Quiz Administration</h1>

<div class="mb-4">
  <a href="{{ url_for('create_quiz') }}" class="btn btn-primary">Create New Quiz</a>
</div>

<div class="row">
  <div class="col-md-6">
    <h2>Draft Quizzes</h2>
    {% if draft_quizzes %}
      <div class="list-group">
        {% for quiz in draft_quizzes %}
          <div class="list-group-item">
            <div class="d-flex w-100 justify-content-between">
              <h5 class="mb-1">{{ quiz.title }}</h5>
              <span class="badge bg-secondary">Draft</span>
            </div>
            <p class="mb-1">Questions: {{ quiz.questions|length }}</p>
            <div>
              <a href="{{ url_for('edit_quiz', quiz_id=quiz.id) }}" class="btn btn-sm btn-outline-primary">Edit</a>
            </div>
          </div>
        {% endfor %}
      </div>
    {% else %}
      <p>No draft quizzes yet.</p>
    {% endif %}
  </div>

  <div class="col-md-6">
    <h2>Published Quizzes</h2>
    {% if published_quizzes %}
      <div class="list-group">
        {% for quiz in published_quizzes %}
          <div class="list-group-item">
            <div class="d-flex w-100 justify-content-between">
              <h5 class="mb-1">{{ quiz.title }}</h5>
              <span class="badge bg-success">Published</span>
            </div>
            <p class="mb-1">Questions: {{ quiz.questions|length }}</p>
            <div>
              <a href="{{ url_for('edit_quiz', quiz_id=quiz.id) }}" class="btn btn-sm btn-outline-primary">Edit</a>
              <a href="{{ url_for('take_quiz', quiz_id=quiz.id) }}" class="btn btn-sm btn-outline-success">View</a>
            </div>
          </div>
        {% endfor %}
      </div>
    {% else %}
      <p>No published quizzes yet.</p>
    {% endif %}
  </div>
</div>
{% endblock %}